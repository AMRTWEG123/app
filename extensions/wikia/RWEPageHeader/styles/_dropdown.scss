@import 'variables';
@import 'skins/shared/mixins/flexbox';
@import 'skins/shared/mixins/transform';

$link-inactive-color: $color-text;
$link-inactive-background-color: $background-color;
$link-active-color: invert($color-text);
$link-active-background-color: $color-links;

$border: 1px solid $color-page-border;

$font-size: $wds-typescale-size-minus-1;
$first-level-font-size: $wds-typescale-size-base;

$first-level-item-height: 64px;
$item-height: 48px;
$item-padding: 0 $content-spacing-large;
$line-height: 1.5;
$link-width: 220px;

$container-height: 10 * $item-height;
$container-width: 900px;
$column-width: $container-width / 3;

.rwe-page-header-nav__dropdown {
	width: $container-width;

	// override
	&.wds-dropdown__content {
		background-color: $background-color;
		box-shadow: 0 10px 15px -5px $shadow-color;
		display: none;
		top: 43px;
		z-index: 1;
	}

	&.rwe-page-header-nav__read {
		left: -125%;

		.rwe-page-header-nav__dropdown-second-level {
			display: none;
		}

		.rwe-page-header-nav__dropdown-third-level {
			display: none;
		}

		.item-selected > ul {
			display: block;
		}
	}

	&.rwe-page-header-nav__create {
		left: -53%;
		width: $column-width;

		.rwe-page-header-nav__dropdown-second-level {
			background-color: $background-color;
			border-right: 0;
			min-height: 0;
			position: static;
		}
	}

	.rwe-page-header-nav__dropdown-first-level,
	.rwe-page-header-nav__dropdown-second-level,
	.rwe-page-header-nav__dropdown-third-level {
		width: $column-width - 1px;
	}

	.rwe-page-header-nav__dropdown-first-level,
	.rwe-page-header-nav__dropdown-second-level {
		border-right: $border;
		margin: 0;
		min-height: $container-height;
	}

	.rwe-page-header-nav__dropdown-second-level,
	.rwe-page-header-nav__dropdown-third-level {
		left: $column-width;
		position: absolute;
		top: 0;
	}

	.rwe-page-header-nav__dropdown-item:not(:last-child) > .rwe-page-header-nav__dropdown-link-wrapper {
		border-bottom: $border;
	}

	.rwe-page-header-nav__dropdown-item {
		height: $item-height;
		padding: $item-padding;

		&:hover, &.item-selected {
			background-color: $link-active-background-color;

			> .rwe-page-header-nav__dropdown-link-wrapper {
				border-bottom-color: $link-active-background-color;

				svg {
					fill: $link-active-color;
				}
			}

			> .rwe-page-header-nav__dropdown-link-wrapper > .rwe-page-header-nav__link {
				color: $link-active-color;
			}
		}
	}

	.rwe-page-header-nav__dropdown-link-wrapper {
		@include align-items(center);
		@include flexbox();
		@include flex-wrap(nowrap);
		@include justify-content(space-between);

		height: calc(100% - 1px);

		svg {
			@include transform-rotate(270deg);
			fill: $link-inactive-color;
			float: right;
			margin: $content-spacing-small;
		}
	}

	.rwe-page-header-nav__dropdown-first-level-item {
		height: $first-level-item-height;

		> .rwe-page-header-nav__dropdown-link-wrapper > .rwe-page-header-nav__link {
			font-size: $first-level-font-size;
		}
	}

	.rwe-page-header-nav__link {
		color: $link-inactive-color;
		display: block;
		font-size: $font-size;
		line-height: $line-height;
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
		width: $link-width;
	}
}
