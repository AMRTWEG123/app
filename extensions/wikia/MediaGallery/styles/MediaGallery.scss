@import 'skins/oasis/css/lib/foundation.custom/foundation.custom';

$media-margin: .5em;

.media-gallery-wrapper {
	@include grid-row();
	margin: 0 $media-margin * -1;
	width: auto;

	// default is 8 or more images
	.media {
		@include grid-column(3);
		transition: all 1s ease-in-out;

		img {
			width: 100%;
		}

		&.hidden {
			display: none;
			opacity: 0;
		}

		&.fade {
			opacity: 0;
			transition-duration: .5s;
		}
	}

	&.count-1 .media {
		@include grid-column(5, false, false, 3);
	}

	&.count-2 .media {
		@include grid-column(6);
	}

	&.count-3 .media {
		@include grid-column(4);
	}

	&.count-4 .media {
		@include grid-column(3);
	}

	&.count-5 .media {
		@include grid-column(6);

		&:nth-child(n+2) {
			@include grid-column(3);
		}
	}

	&.count-6 .media {
		@include grid-column(4);
	}

	&.count-7 .media {
		@include grid-column(4);

		&:nth-child(n+4) {
			@include grid-column(3);
		}
	}

	&[class*="count-"] .media:nth-child(n) {
		padding: $media-margin;
	}

	.media-gallery-inner {
		clear: both;
	}

	.more {
		clear: both;
		margin-left: $media-margin * -2;
		padding: .5em;
		text-align: center;

		button {
			margin-left: $media-margin * 2;
			outline: none;

			&.hidden {
				display: none;
			}
		}
	}

	.add-image {
		float: right;
		margin-right: $media-margin + .1; // add a little space for right border
	}
}

// display the add image button on the same line as headers that come directly before the gallery
h2 + .media-gallery-wrapper .add-image {
	margin-top: -2.55em;
}
